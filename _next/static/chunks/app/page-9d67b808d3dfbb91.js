(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{296:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>j});var s=t(5155);t(6766),t(8334),t(347);var r=t(2115),n=t(898),i=t(3357),o=t(8664),c=t(4576),u=t(9386),d=t(5538);let l=(0,o.Wp)({apiKey:"AIzaSyDXaJ4qcCAbLEC6qX_2lZ69jEJxXONvu6c",authDomain:"youcare-3171d.firebaseapp.com",projectId:"youcare-3171d",storageBucket:"youcare-3171d.firebasestorage.app",messagingSenderId:"76440144631",appId:"1:76440144631:web:01f29a9de0e4a7fa9fa1f2",measurementId:"G-VC2YFSMQPR"}),m=(0,c.xI)(l),p=(0,u.aU)(l);function g(){let e=async()=>{let e=new c.HF;await (0,c.df)(m,e)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{className:"sign-in",onClick:e,children:"Logar com conta Google"}),(0,s.jsx)("p",{children:"Chatbot da YouCare para agendar consultas m\xe9dicas."})]})}function h(){return m.currentUser&&(0,s.jsx)("button",{className:"sign-out",onClick:()=>(0,c.CI)(m),children:"Sair da conta Google"})}function b(){let e=(0,r.useRef)(),{uid:a}=m.currentUser,t=(0,u.rJ)(p,"user_chats",a,"messages"),n=(0,u.P)(t,(0,u.My)("createdAt"),(0,u.AB)(100)),[o]=(0,i.Ar)(n,{idField:"id"}),[c,d]=(0,r.useState)(""),l=async(e,a,s)=>{await (0,u.gS)(t,{text:e,createdAt:(0,u.O5)(),uid:a,photoURL:s})},g=async e=>{e.preventDefault();let{uid:a,photoURL:t}=m.currentUser,s=c.trim();if(""!==s){if(await l(s,a,t),d(""),"/help"===s||"/ajuda"===s)await l("Comandos dispon\xedveis:\n/help ou /ajuda - Mostrar esta ajuda\n/agendar - Agendar um atendimento\n/consulta - Consultar o status de um agendamento","bot","https://imgur.com/a/FAWlyDb");else if("/agendar"===s){await l("Agendamento solicitado! Em breve nossa equipe entrar\xe1 em contato para confirmar os detalhes.","bot","https://imgur.com/a/FAWlyDb");let e=(0,u.rJ)(p,"solicitacoes");await (0,u.gS)(e,{tipo:"agendamento",criadoEm:(0,u.O5)(),usuario:a})}else if("/consulta"===s){await l("Consulta de status registrada! Estamos verificando seus agendamentos e retornaremos em breve.","bot","https://imgur.com/a/FAWlyDb");let e=(0,u.rJ)(p,"solicitacoes");await (0,u.gS)(e,{tipo:"consulta",criadoEm:(0,u.O5)(),usuario:a})}}};return(0,r.useEffect)(()=>{e.current&&e.current.scrollIntoView({behavior:"smooth"})},[o]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("main",{children:[o&&o.map(e=>(0,s.jsx)(f,{message:e},e.id)),(0,s.jsx)("span",{ref:e})]}),(0,s.jsxs)("form",{onSubmit:g,children:[(0,s.jsx)("input",{value:c,onChange:e=>d(e.target.value),placeholder:"Digite /ajuda para come\xe7ar"}),(0,s.jsx)("button",{type:"submit",disabled:!c,children:"\uD83D\uDD4A️"})]})]})}function f(e){let{text:a,uid:t,photoURL:r}=e.message,n=t===m.currentUser.uid?"sent":"bot"===t?"bot":"received";return(0,s.jsxs)("div",{className:"message ".concat(n),children:[(0,s.jsx)("img",{src:r||"https://api.adorable.io/avatars/23/abott@adorable.png",alt:"Avatar"}),(0,s.jsx)("pre",{children:a})]})}(0,d.TT)().then(e=>{e&&(0,d.P5)(l)});let j=function(){let[e]=(0,n.hD)(m),[a,t]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{t(!0)},[]),a)?(0,s.jsxs)("div",{className:"App",children:[(0,s.jsxs)("header",{children:[(0,s.jsx)("h1",{children:"YouCare"}),(0,s.jsx)(h,{})]}),(0,s.jsx)("section",{children:e?(0,s.jsx)(b,{}):(0,s.jsx)(g,{})})]}):null}},347:()=>{},8334:e=>{e.exports={App:"page_App__wR_4g",message:"page_message__abnJo",bot:"page_bot__wRVux","sign-in":"page_sign-in__FhWs4",sent:"page_sent__qKPHP",received:"page_received__uG1MC"}},9027:(e,a,t)=>{Promise.resolve().then(t.bind(t,296))}},e=>{var a=a=>e(e.s=a);e.O(0,[466,398,636,558,441,684,358],()=>a(9027)),_N_E=e.O()}]);